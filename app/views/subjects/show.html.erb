<% provide(:title, "#{@subject_user.username}'s' #{@subject.subject} Playlist") %>

<div class="container">
    <div class="row">
      <div class="text-center col-lg-12">
      <% if user_signed_in? && current_user.id == @subject.user_id %>
        <h1><b>Your <%= @subject.subject %> Playlist</b></h1>
      <% else %>
        <h1><b><%= @subject_user.username %>'s <%= @subject.subject %> Playlist</b></h1>
      <% end %>
        <!-- image -->
        <p><lead><i style="font-size:20px;"><%= "Description: #{@subject.description}" if !@subject.description.empty? %></i></lead></p>
      <% if user_signed_in? && current_user.id == @subject.user_id && !@subject.default_subject? %>
        <p>
          <%= link_to 'Edit', edit_subject_path(@subject),:class=>"glyphicon glyphicon-edit" if user_signed_in? && current_user.id == @subject.user_id %> 
          |
           <%= link_to 'Delete', @subject, method: :delete, data: { confirm: 'Are you Sure?'}, :class=>"glyphicon glyphicon-trash" if user_signed_in? && current_user.id == @subject.user_id %>   
        <p>
      <% end %>
      
      <% if user_signed_in? && current_user.id == @subject.user_id %>
        <div class = "add_video">
          <%= link_to 'Add Video', new_video_path(subject_id: @subject.id), class: 'btn btn-primary btn-lg' %><br><br>
        </div>
      <% end %> 
      </div>
    </div>
  </div>
  <br>
  <div class="container">
    <div id="player-wrapper"></div>
    <div class="row">
      <% if !@videos.empty? %>
        <%= render 'videos/sort' %>
        <br>
        <%= render @videos %>
      <% else %>  
        <div class="text-center">
          <h1>No Videos</h1>
        </div>
      <% end %>
    </div>
  </div>